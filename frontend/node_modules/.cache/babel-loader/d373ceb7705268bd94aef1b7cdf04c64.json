{"ast":null,"code":"import { Pos } from './player.js';\nconst map_size = 1200;\nconst center_h = map_size / 2;\nconst center_w = map_size / 2; //todo : canvas.width,canvas.height??\n\nfunction draw(player) {\n  var canvas = document.getElementById('gameboard');\n\n  if (canvas.getContext) {\n    var ctx = canvas.getContext('2d');\n    defaultMap(ctx);\n    drawPlayer(ctx, player);\n  }\n}\n\nfunction defaultMap(ctx) {\n  var circle = new Path2D();\n  circle.arc(center_h, center_w, 400, 0, 2 * Math.PI);\n  ctx.fillStyle = 'white';\n  ctx.strokeStyle = 'gray';\n  ctx.lineWidth = 5;\n  ctx.fill(circle);\n  ctx.stroke(circle);\n}\n\nfunction drawPlayer(ctx, p) {\n  var circle = new Path2D();\n  circle.arc(center_h, center_w, 25, 0, 2 * Math.PI);\n  ctx.fillStyle = 'red';\n  ctx.strokeStyle = 'black';\n  ctx.lineWidth = 3;\n  ctx.fill(circle);\n  ctx.stroke(circle);\n  drawSword(ctx, p);\n  drawString(ctx, p.name, center_h, center_w);\n}\n\nfunction drawSword(ctx, p) {\n  let swordpos = p.sw_pos();\n  const angle = p.sw_angle;\n  var img = new Image();\n\n  img.onload = function () {\n    ctx.translate(p.x, p.y);\n    ctx.rotate(angle);\n    ctx.drawImage(img, i * 100, i * 100);\n    ctx.restore();\n    ctx.fillText(\"done\", 700, 700);\n  };\n\n  img.src = \"./sword.png\";\n}\n\nfunction drawString(ctx, text, x, y) {\n  ctx.fillStyle = 'black';\n  ctx.font = '15px Dosis-Bold';\n  let width = ctx.measureText(text).width;\n  ctx.fillText(text, x - width / 2, y + 5);\n}\n\nexport default draw;","map":{"version":3,"sources":["/Users/hong-eungi/git/tourne-sabre/frontend/src/mapdraw.js"],"names":["Pos","map_size","center_h","center_w","draw","player","canvas","document","getElementById","getContext","ctx","defaultMap","drawPlayer","circle","Path2D","arc","Math","PI","fillStyle","strokeStyle","lineWidth","fill","stroke","p","drawSword","drawString","name","swordpos","sw_pos","angle","sw_angle","img","Image","onload","translate","x","y","rotate","drawImage","i","restore","fillText","src","text","font","width","measureText"],"mappings":"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","sourcesContent":["import {Pos} from './player.js'\n\nconst map_size = 1200;\nconst center_h = map_size/2;\nconst center_w = map_size/2;\n//todo : canvas.width,canvas.height??\nfunction draw(player) {\n    var canvas = document.getElementById('gameboard');\n    if (canvas.getContext) {\n        var ctx = canvas.getContext('2d');\n        defaultMap(ctx)\n        drawPlayer(ctx,player);\n    }\n}\n\nfunction defaultMap(ctx){\n    var circle = new Path2D();\n    circle.arc(center_h, center_w, 400, 0, 2 * Math.PI);\n    ctx.fillStyle='white';\n    ctx.strokeStyle='gray';\n    ctx.lineWidth=5;\n    ctx.fill(circle);\n    ctx.stroke(circle);\n}\n\nfunction drawPlayer(ctx,p){\n    var circle = new Path2D();\n    circle.arc(center_h, center_w, 25, 0, 2 * Math.PI);\n    ctx.fillStyle='red';\n    ctx.strokeStyle='black';\n    ctx.lineWidth=3;\n    ctx.fill(circle);\n    ctx.stroke(circle);\n    drawSword(ctx,p)\n    drawString(ctx,p.name,center_h,center_w)\n}\n\nfunction drawSword(ctx,p){\n    let swordpos = p.sw_pos();\n    const angle = p.sw_angle;\n    var img = new Image();\n    img.onload = function() {\n        ctx.translate(p.x,p.y);\n        ctx.rotate(angle);\n        ctx.drawImage(img,i*100,i*100);\n        ctx.restore();\n        ctx.fillText(\"done\",700,700);\n    };\n    img.src = \"./sword.png\"\n}\n\nfunction drawString(ctx,text,x,y){\n    ctx.fillStyle='black';\n    ctx.font = '15px Dosis-Bold';\n    let width = ctx.measureText(text).width;\n    ctx.fillText(text,x-(width/2),y+5)\n}\n\nexport default draw;"]},"metadata":{},"sourceType":"module"}