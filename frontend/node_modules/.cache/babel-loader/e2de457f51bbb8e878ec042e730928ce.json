{"ast":null,"code":"class Pos {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  move(dx, dy) {\n    this.x += dx;\n    this.y += dy;\n  }\n\n  movev(v) {\n    this.x += v.x;\n    this.y += v.y;\n  }\n\n  add(x, y) {\n    return new Pos(this.x + x, this.y + y);\n  }\n\n  addv(v) {\n    return new Pos(this.x + v.x, this.y + v.y);\n  }\n\n  rot(center, angle) {\n    let clockwise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    // center point, angle in radian\n    if (clockwise) angle *= -1;\n    const x = this.x - center.x;\n    const y = this.y - center.y;\n    this.x = Math.cos(angle) * x - Math.sin(angle) * y + center.x;\n    this.y = Math.sin(angle) * x + Math.cos(angle) * y + center.y;\n  }\n\n}\n\nclass Player {\n  constructor(name) {\n    this.name = name;\n    this.pos = new Pos(0, 0);\n    this.sw_angle = 0 * (Math.PI / 180); // sword angle\n\n    this.sw_r = 80; // sword radius\n\n    this.hp = 100;\n    this.xp = 0;\n  }\n\n  move(dx, dy) {\n    this.pos.move(dx, dy);\n    this.bound();\n  }\n\n  bound() {\n    if (this.x >= 400) this.x = 400;\n    if (this.y >= 400) this.y = 400;\n    if (this.x <= -400) this.x = -400;\n    if (this.y <= -400) this.y = -400;\n  }\n\n  sw_rot(angle) {\n    let clockwise = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (clockwise) angle *= -1;\n    this.sw_angle += angle;\n    this.sw_angle %= 2 * Math.PI;\n  }\n\n  sw_pos() {\n    return this.pos.add(this.sw_r, 0).rot(this.pos, this.sw_angle);\n  }\n\n  hp_change(dhp) {\n    this.hp += dhp;\n  }\n\n  dead() {\n    return this.hp <= 0;\n  }\n\n}\n\nfunction getRandomColor() {\n  var letters = '0123456789ABCDEF';\n  var color = '#';\n\n  for (var i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n\n  return color;\n}\n\nclass Item {\n  constructor(x, y) {\n    this.pos = new Pos(x, y);\n    this.color = getRandomColor();\n    this.score = Math.floor(Math.random() * 16) + 1;\n  }\n\n  eaten(player) {\n    player.xp += this.score;\n    this.pos = Pos.randomPos(x, y);\n    this.color = getRandomColor();\n  }\n\n}\n\nexport { Player, Pos, Item };","map":{"version":3,"sources":["/Users/hong-eungi/git/tourne-sabre/frontend/src/object.js"],"names":["Pos","constructor","x","y","move","dx","dy","movev","v","add","addv","rot","center","angle","clockwise","Math","cos","sin","Player","name","pos","sw_angle","PI","sw_r","hp","xp","bound","sw_rot","sw_pos","hp_change","dhp","dead","getRandomColor","letters","color","i","floor","random","Item","score","eaten","player","randomPos"],"mappings":"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","sourcesContent":["class Pos{\n    constructor(x,y){\n        this.x=x;\n        this.y=y;\n    }\n\n    move(dx,dy){\n        this.x+=dx;\n        this.y+=dy;\n    }\n\n    movev(v){\n        this.x+=v.x;\n        this.y+=v.y;\n    }\n    \n    add(x,y){\n        return new Pos(this.x+x, this.y+y)\n    }\n\n    addv(v){\n        return new Pos(this.x+v.x, this.y+v.y)\n    }\n\n    rot(center,angle,clockwise = true){ // center point, angle in radian\n        if(clockwise)angle*=-1;\n        const x = this.x - center.x\n        const y = this.y - center.y\n        this.x = Math.cos(angle)*x-Math.sin(angle)*y+center.x;\n        this.y = Math.sin(angle)*x+Math.cos(angle)*y+center.y;\n    }\n}\n\nclass Player{\n    constructor(name){\n        this.name = name;\n        this.pos = new Pos(0,0);\n        this.sw_angle = 0 * (Math.PI/180); // sword angle\n        this.sw_r = 80; // sword radius\n        this.hp = 100;\n        this.xp = 0;\n    }\n\n    move(dx,dy){\n        this.pos.move(dx,dy)\n        this.bound()\n    }\n\n    bound(){\n        if(this.x>=400)this.x=400;\n        if(this.y>=400)this.y=400;\n        if(this.x<=-400)this.x=-400;\n        if(this.y<=-400)this.y=-400;\n    }\n\n    sw_rot(angle,clockwise=true){\n        if(clockwise)angle*=-1;\n        this.sw_angle+=angle;\n        this.sw_angle%=(2*Math.PI);\n    }\n\n    sw_pos(){\n        return this.pos.add(this.sw_r,0).rot(this.pos,this.sw_angle);\n    }\n\n    hp_change(dhp){\n        this.hp+=dhp;\n    }\n\n    dead(){\n        return (this.hp <= 0)\n    }\n}\n\nfunction getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}\n\nclass Item{\n    constructor(x,y){\n        this.pos = new Pos(x,y); \n        this.color = getRandomColor();\n        this.score = Math.floor(Math.random() * 16)+1;\n    }\n\n    eaten(player){\n        player.xp+=this.score;\n        this.pos = Pos.randomPos(x,y);\n        this.color = getRandomColor();\n    }\n}\n\nexport {Player, Pos, Item}"]},"metadata":{},"sourceType":"module"}