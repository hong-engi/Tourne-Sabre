{"ast":null,"code":"import { me, Item } from './object.js';\nimport { map } from './map.js';\nvar ateItemid = null;\nvar killedmeid = null;\nvar flag = 0;\nvar delflag = true;\n\nfunction frameUpdate(me, pKeys) {\n  if (pKeys['w']) me.addSpeed(0, -1);\n  if (pKeys['s']) me.addSpeed(0, 1);\n  if (pKeys['a']) me.addSpeed(-1, 0);\n  if (pKeys['d']) me.addSpeed(1, 0);\n  me.move();\n  me.sw_rot(6 * (Math.PI / 180));\n  map.meUpdate(me);\n  map.getItems();\n  map.getmes();\n\n  for (let i = 0; i < map.itemList.length; i++) {\n    let item = Item.schemaItem(map.itemList[i]);\n\n    if (me.trytoeat(item) && ateItemid != item.id) {\n      ateItemid = item.id;\n      item.eaten(me);\n      map.ate(item);\n    }\n  }\n\n  for (let i = 0; i < map.meList.length; i++) {\n    let me2 = me.schemame(map.meList[i]);\n\n    if (me.trytohit(me2)) {\n      let dmg = me.lv + 100;\n      me2.damage(dmg); //todo : 이거 옮기기\n\n      if (me2.dead() && killedmeid != me2.id) {\n        killedmeid = me2.id;\n        map.kill(me2);\n        me.xpup(50);\n      } //\n      else map.damage(me2, 101);\n    }\n  }\n\n  if (pKeys['.']) {\n    flag = (flag + 1) % 50;\n    console.log(flag);\n\n    if (flag == 0) {\n      var p = new me('Jane Doe', 100, 100);\n      map.addme(p);\n    }\n  }\n\n  if (pKeys[',']) {\n    map.addItem();\n    console.log('addItem');\n  }\n\n  if (pKeys['q'] && delflag) {\n    map.deleteAll();\n    console.log('deleteall');\n    delflag = false;\n  }\n}\n\nexport default frameUpdate;","map":{"version":3,"sources":["/Users/hong-eungi/git/tourne-sabre/frontend/src/frameUpdater.js"],"names":["me","Item","map","ateItemid","killedmeid","flag","delflag","frameUpdate","pKeys","addSpeed","move","sw_rot","Math","PI","meUpdate","getItems","getmes","i","itemList","length","item","schemaItem","trytoeat","id","eaten","ate","meList","me2","schemame","trytohit","dmg","lv","damage","dead","kill","xpup","console","log","p","addme","addItem","deleteAll"],"mappings":"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","sourcesContent":["import {me,Item} from './object.js'\nimport {map} from './map.js'\nvar ateItemid = null\nvar killedmeid = null\nvar flag = 0\nvar delflag = true\nfunction frameUpdate(me,pKeys){\n  if(pKeys['w'])me.addSpeed(0,-1);\n  if(pKeys['s'])me.addSpeed(0,1);\n  if(pKeys['a'])me.addSpeed(-1,0);\n  if(pKeys['d'])me.addSpeed(1,0);\n  me.move();\n  me.sw_rot(6*(Math.PI/180))\n  map.meUpdate(me)\n  map.getItems()\n  map.getmes()\n\n  for(let i=0;i<map.itemList.length;i++){\n    let item = Item.schemaItem(map.itemList[i])\n    if(me.trytoeat(item)&&ateItemid != item.id){\n      ateItemid = item.id\n      item.eaten(me)\n      map.ate(item)\n    }\n  }\n\n  for(let i=0;i<map.meList.length;i++){\n    let me2 = me.schemame(map.meList[i])\n    if(me.trytohit(me2)){\n      let dmg = me.lv+100\n      me2.damage(dmg)\n      //todo : 이거 옮기기\n      if(me2.dead() && killedmeid != me2.id){\n        killedmeid = me2.id\n        map.kill(me2)\n        me.xpup(50)\n      }\n      //\n      else map.damage(me2,101)\n    }\n  }\n\n  if(pKeys['.']){\n    flag = (flag+1)%50\n    console.log(flag)\n    if(flag==0){\n      var p = new me('Jane Doe',100,100)\n      map.addme(p)\n    }\n  }\n  if(pKeys[',']){\n    map.addItem()\n    console.log('addItem')\n  }\n  if(pKeys['q'] && delflag){\n    map.deleteAll()\n    console.log('deleteall')\n    delflag = false\n  }\n}\nexport default frameUpdate"]},"metadata":{},"sourceType":"module"}