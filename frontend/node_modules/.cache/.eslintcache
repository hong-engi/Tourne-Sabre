[{"/Users/hong-eungi/git/tourne-sabre/frontend/src/index.js":"1","/Users/hong-eungi/git/tourne-sabre/frontend/src/App.js":"2","/Users/hong-eungi/git/tourne-sabre/frontend/src/reportWebVitals.js":"3","/Users/hong-eungi/git/tourne-sabre/frontend/src/mapdraw.js":"4","/Users/hong-eungi/git/tourne-sabre/frontend/src/object.js":"5","/Users/hong-eungi/git/tourne-sabre/frontend/src/canvas.js":"6","/Users/hong-eungi/git/tourne-sabre/frontend/src/map.js":"7","/Users/hong-eungi/git/tourne-sabre/frontend/src/frameUpdater.js":"8"},{"size":287,"mtime":1638519846456,"results":"9","hashOfConfig":"10"},{"size":1218,"mtime":1638544112361,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1638198561682,"results":"12","hashOfConfig":"10"},{"size":4413,"mtime":1638548563998,"results":"13","hashOfConfig":"10"},{"size":6709,"mtime":1638549990631,"results":"14","hashOfConfig":"10"},{"size":619,"mtime":1638523918100,"results":"15","hashOfConfig":"10"},{"size":2357,"mtime":1638542354904,"results":"16","hashOfConfig":"10"},{"size":1154,"mtime":1638544470195,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1skrt0r",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Users/hong-eungi/git/tourne-sabre/frontend/src/index.js",[],["38","39"],"/Users/hong-eungi/git/tourne-sabre/frontend/src/App.js",["40"],"import './App.css';\nimport {Player} from './object.js'\nimport Canvas from './canvas.js'\nimport {map} from './map.js'\nimport React from 'react'\nimport useInterval from '@use-it/interval'\nimport frameUpdate from './frameUpdater.js'\n\nmap.deleteAll()\nvar player = new Player(\"James\");\nconst fps = 30;\n\nfunction App() {\n  var pressedKeys = {};\n\n  function handleKeyDown(event){\n    pressedKeys[event.key] = true;\n  } \n  function handleKeyUp(event){\n    delete pressedKeys[event.key]\n  } \n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup',handleKeyUp)\n    map.addPlayer(player);\n    // cleanup this component\n    return () => {\n      console.log('removing keyboard')\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup',handleKeyUp)\n      map.deletePlayer(player);\n    };\n  }, []);\n\n  useInterval(()=>{frameUpdate(player,pressedKeys)},1000/fps)\n\n  return (\n    <body className = \"center\">\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Canvas id=\"gameboard\" width=\"1200\" height=\"1200\" player={player} />\n        </header>\n      </div>\n    </body>\n  );\n}\n\n\nexport default App;\n","/Users/hong-eungi/git/tourne-sabre/frontend/src/reportWebVitals.js",[],"/Users/hong-eungi/git/tourne-sabre/frontend/src/mapdraw.js",["41","42","43","44","45","46"],"import sword from './sword.png'\nimport {map} from './map.js'\nimport {Pos, Player, Item} from './object.js'\nconst canvas_size = 1200;\nconst center_h = canvas_size/2;\nconst center_w = canvas_size/2;\n\nvar img = new Image();\nimg.src = sword; \n\n//todo : canvas.width,canvas.height??\nfunction draw(ctx,player) {\n\n    ctx.fillStyle='white'\n    ctx.fillRect(0,0,canvas_size,canvas_size);\n    defaultMap(ctx)\n\n    for(let i=0;i<map.itemList.length;i++){\n        let item = Item.schemaItem(map.itemList[i])\n        if(player.pos.dist(item.pos)<550){\n            drawItem(ctx,player,item)\n        }\n    }\n\n    for(let i=0;i<map.playerList.length;i++){\n        let player2 = Player.schemaPlayer(map.playerList[i])\n        if(player.pos.dist(player2.pos)<550){\n            drawPlayer(ctx,player,player2)\n        }\n    }\n\n    //drawing a hole\n    ctx.StrokeStyle='black'\n    ctx.fillStyle='black'\n    ctx.beginPath()\n    ctx.moveTo(0, 0);\n    ctx.lineTo(canvas_size, 0);\n    ctx.lineTo(canvas_size,canvas_size);\n    ctx.lineTo(0, canvas_size);\n    ctx.lineTo(0,0);\n    ctx.closePath();\n    ctx.arc(center_w,center_h,400,0,Math.PI*2,true);\n    ctx.closePath();\n    ctx.fill();\n\n    ctx.fillStyle = 'purple'\n    let sp = player.sw_pos()\n    var circle = new Path2D();\n    circle.arc(center_w+sp.x-player.pos.x, center_h+sp.y-player.pos.y, 3, 0, 2 * Math.PI);\n    circle.arc(center_w-player.pos.x, center_h-player.pos.y, 3, 0, 2 * Math.PI);\n    ctx.fill(circle);\n\n    ctx.font = '20px Dosis-Bold';\n    ctx.fillStyle = 'white'\n    let text = '('+String(Math.round(player.pos.x))+','+String(Math.round(player.pos.y))+')'\n    ctx.fillText(text,200,300)\n\n    let w = player.sw_w/2;\n    let h = player.sw_h/2;\n    let alpha = Math.atan(w/h)\n    let beta = player.sw_angle-alpha\n    let r = Math.pow(w*w+h*h,0.5)\n    var dir = [new Pos(0,-r).rot(new Pos(0,0),beta),\n        new Pos(0,-r).rot(new Pos(0,0),beta+2*alpha)]\n    for(let i=0;i<4;i++){\n        let xx = new Path2D();\n        let p1 = sp.addv(dir[0]);\n        ctx.fillStyle = 'blue'\n        xx.arc(center_w+p1.x-player.pos.x, center_h+p1.y-player.pos.y, 3, 0, 2 * Math.PI);\n        ctx.fill(xx);\n        let tmp = dir[0];\n        dir[0] = new Pos(0,0).addv(dir[1],-1);\n        dir[1] = tmp;\n    }\n\n}\n\nfunction defaultMap(ctx){\n    var circle = new Path2D();\n    circle.arc(center_h, center_w, 400, 0, 2 * Math.PI);\n    ctx.fillStyle='white';\n    ctx.strokeStyle='gray';\n    ctx.lineWidth=5;\n    ctx.fill(circle);\n    ctx.stroke(circle);\n}\n\nfunction drawItem(ctx,me,i){\n    var circle = new Path2D();\n    let dpos = i.pos.addv(me.pos,-1), x=center_w+dpos.x, y=center_h+dpos.y;\n    circle.arc(x, y, i.r, 0, 2 * Math.PI);\n    ctx.fillStyle=i.color;\n    ctx.strokeStyle='black';\n    ctx.lineWidth=0.5;\n    ctx.fill(circle);\n    ctx.stroke(circle);\n}\n\nfunction drawPlayer(ctx,me,p){\n    var circle = new Path2D();\n    let dpos = p.pos.addv(me.pos,-1), x=center_w+dpos.x, y=center_h+dpos.y;\n    if(me.id == p.id){x=center_w;y=center_h;}\n    circle.arc(x, y, p.r, 0, 2 * Math.PI);\n    ctx.fillStyle=p.color;\n    if(me.id == p.id)ctx.fillStyle='red';\n    ctx.strokeStyle='black';\n    ctx.lineWidth=1;\n    ctx.fill(circle);\n    ctx.stroke(circle);\n    drawSword(ctx,me,p)\n    drawString(ctx,me,p)\n    drawHealthbar(ctx,me,p)\n}\n\nfunction drawHealthbar(ctx,me,p){\n    let dpos = p.pos.addv(me.pos,-1), x=center_w+dpos.x, y=center_h+dpos.y;\n    if(me.id == p.id){x=center_w;y=center_h;}\n    ctx.strokeStyle = '#77FF77'\n    ctx.fillStyle = '#77FF77'\n    ctx.lineWidth=2;\n    ctx.fillRect(x-p.r,y+p.r+3,2*p.r*p.hp/100,10)\n    ctx.strokeStyle = '#77FF77'\n    ctx.fillStyle = \"rgba(0, 0, 0, 0.2)\";\n    ctx.fillRect(x-p.r,y+p.r+3,2*p.r,10)\n}\n\nfunction drawSword(ctx,me,p){\n    const angle = -p.sw_angle;\n    let dpos = p.pos.addv(me.pos,-1), x=center_w+dpos.x, y=center_h+dpos.y;\n    if(me.id == p.id){x=center_w;y=center_h;}\n    const r = p.r+p.sw_r,w=p.sw_w,h=p.sw_h;\n    ctx.save();\n        ctx.translate(x,y);\n        ctx.rotate(angle);\n        ctx.drawImage(img,-w/2,-r-h/2,w,h);\n    ctx.restore();\n}\n\nfunction drawString(ctx,me,p){\n    let dpos = p.pos.addv(me.pos,-1), x=center_w+dpos.x, y=center_h+dpos.y;\n    if(me.id == p.id){x=center_w;y=center_h;}\n    ctx.fillStyle='black';\n    if(me.id == p.id)ctx.fillStyle='white';\n    ctx.font = '15px Dosis-Bold';\n    let text = p.name\n    let width = ctx.measureText(text).width;\n    ctx.fillText(text,x-(width/2),y+5)\n}\n\nexport default draw;","/Users/hong-eungi/git/tourne-sabre/frontend/src/object.js",["47","48"],"/Users/hong-eungi/git/tourne-sabre/frontend/src/canvas.js",["49","50"],"import React, { useRef, useEffect } from 'react'\nimport draw from './mapdraw.js'\n\nconst Canvas = props => {\n\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n  \n    const canvas = canvasRef.current\n    const ctx = canvas.getContext('2d')\n    let frameCount = 0\n    let animationFrameId\n    \n    const render = () => {\n      frameCount++;\n      draw(ctx, props.player)\n      animationFrameId = window.requestAnimationFrame(render)\n    }\n\n    render()\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n  }, [draw])\n  \n  return <canvas ref={canvasRef} {...props}/>\n}\n\nexport default Canvas","/Users/hong-eungi/git/tourne-sabre/frontend/src/map.js",[],"/Users/hong-eungi/git/tourne-sabre/frontend/src/frameUpdater.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":34,"column":6,"nodeType":"57","endLine":34,"endColumn":8,"suggestions":"58"},{"ruleId":"59","severity":1,"message":"60","line":102,"column":14,"nodeType":"61","messageId":"62","endLine":102,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":105,"column":14,"nodeType":"61","messageId":"62","endLine":105,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":117,"column":14,"nodeType":"61","messageId":"62","endLine":117,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":130,"column":14,"nodeType":"61","messageId":"62","endLine":130,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":141,"column":14,"nodeType":"61","messageId":"62","endLine":141,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":143,"column":14,"nodeType":"61","messageId":"62","endLine":143,"endColumn":16},{"ruleId":"59","severity":1,"message":"60","line":16,"column":13,"nodeType":"61","messageId":"62","endLine":16,"endColumn":15},{"ruleId":"59","severity":1,"message":"60","line":119,"column":21,"nodeType":"61","messageId":"62","endLine":119,"endColumn":23},{"ruleId":"63","severity":1,"message":"64","line":12,"column":9,"nodeType":"65","messageId":"66","endLine":12,"endColumn":19},{"ruleId":"55","severity":1,"message":"67","line":26,"column":6,"nodeType":"57","endLine":26,"endColumn":12,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'handleKeyDown' and 'handleKeyUp'. Either include them or remove the dependency array.","ArrayExpression",["71"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'frameCount' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'props.player'. Either include it or remove the dependency array. Outer scope values like 'draw' aren't valid dependencies because mutating them doesn't re-render the component.",["72"],"no-global-assign","no-unsafe-negation",{"desc":"73","fix":"74"},{"desc":"75","fix":"76"},"Update the dependencies array to be: [handleKeyDown, handleKeyUp]",{"range":"77","text":"78"},"Update the dependencies array to be: [props.player]",{"range":"79","text":"80"},[887,889],"[handleKeyDown, handleKeyUp]",[538,544],"[props.player]"]