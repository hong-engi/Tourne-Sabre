[{"/Users/hong-eungi/git/tourne-sabre/frontend/src/index.js":"1","/Users/hong-eungi/git/tourne-sabre/frontend/src/App.js":"2","/Users/hong-eungi/git/tourne-sabre/frontend/src/reportWebVitals.js":"3","/Users/hong-eungi/git/tourne-sabre/frontend/src/mapdraw.js":"4","/Users/hong-eungi/git/tourne-sabre/frontend/src/object.js":"5","/Users/hong-eungi/git/tourne-sabre/frontend/src/canvas.js":"6","/Users/hong-eungi/git/tourne-sabre/frontend/src/map.js":"7","/Users/hong-eungi/git/tourne-sabre/frontend/src/frameUpdater.js":"8"},{"size":500,"mtime":1638198561682,"results":"9","hashOfConfig":"10"},{"size":1161,"mtime":1638353906650,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1638198561682,"results":"12","hashOfConfig":"10"},{"size":2400,"mtime":1638351767314,"results":"13","hashOfConfig":"10"},{"size":4290,"mtime":1638345525216,"results":"14","hashOfConfig":"10"},{"size":648,"mtime":1638351339281,"results":"15","hashOfConfig":"10"},{"size":223,"mtime":1638352520518,"results":"16","hashOfConfig":"10"},{"size":237,"mtime":1638353871923,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1skrt0r",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/hong-eungi/git/tourne-sabre/frontend/src/index.js",[],["37","38"],"/Users/hong-eungi/git/tourne-sabre/frontend/src/App.js",["39"],"/Users/hong-eungi/git/tourne-sabre/frontend/src/reportWebVitals.js",[],"/Users/hong-eungi/git/tourne-sabre/frontend/src/mapdraw.js",[],"/Users/hong-eungi/git/tourne-sabre/frontend/src/object.js",["40"],"var mapSize = 3000;\n\nfunction getRandomColor() {\n    var letters = '6789ABCDEF';\n    var color = '#';\n    let i = Math.floor(Math.random()*3);\n    for(let j=0;j<3;j++){\n        if(j==i) color+='FF';\n        else for (var k = 0; k < 2; k++) {\n            color += letters[Math.floor(Math.random() * 10)];\n        }\n    }\n    return color;\n}\n\nclass Pos{\n    constructor(x,y){\n        this.x=x;\n        this.y=y;\n    }\n\n    static randomPos(){\n        let x = Math.random() * 2 * mapSize - mapSize;\n        let y = Math.random() * 2 * mapSize - mapSize;\n        return new Pos(x,y)\n    }\n\n    dist(v){\n        return Math.pow((this.x-v.x)*(this.x-v.x)+(this.y-v.y)*(this.y-v.y),0.5)\n    }\n\n    move(dx,dy){\n        this.x+=dx;\n        this.y+=dy;\n    }\n\n    movev(v){\n        this.x+=v.x;\n        this.y+=v.y;\n    }\n    \n    add(x,y,i=1){\n        return new Pos(this.x+x*i, this.y+y*i)\n    }\n\n    addv(v,i=1){\n        return new Pos(this.x+v.x*i, this.y+v.y*i)\n    }\n\n    rot(center,angle,clockwise = true){ // center point, angle in radian\n        if(clockwise)angle*=-1;\n        const x = this.x - center.x\n        const y = this.y - center.y\n        this.x = Math.cos(angle)*x-Math.sin(angle)*y+center.x;\n        this.y = Math.sin(angle)*x+Math.cos(angle)*y+center.y;\n    }\n}\n\nclass Player{\n    constructor(name){\n        this.name = name;\n        this.pos = new Pos(0,0);\n        this.r = 25;\n        this.sw_angle = 0 * (Math.PI/180); // sword angle\n        this.sw_r = 80; // sword radius\n        this.sw_w = 40;\n        this.sw_h = 100;\n        this.sw_speed = 4 * (Math.PI/180);\n        this.hp = 100;\n        this.xp = 0;\n        this.color = getRandomColor();\n    }\n\n    static randomPlayer(){\n        function randomName(){\n            let alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n            let name = '';\n            for(let i=0;i<10;i++)\n                name+=alphabet[Math.floor(Math.random()*alphabet.length)]\n            return name;\n        }\n        let p = new Player(randomName())\n        p.pos = Pos.randomPos();\n        return p;\n    }\n\n    trytohit(enemy){\n        let sp = this.sw_pos();\n        let w = this.sw_w;\n        let h = this.sw_h;\n        function pos_x_line_meet(p1,p2,p){\n            return (p.y-p1.y)*(p.x-p2.x)/(p1.y-p2.y)+p1.x>p.x &&\n                (p.y-p1.y)*(p.y-p2.y)<0;\n        }\n        function line_circle_meet(p1,p2,p,r){\n            let a=p2.y-p1.y,b=p1.x-p2.x,c=p1.x*(p1.y-p2.y)+p1.y*(p2.x-p1.x);\n            let d = Math.abs(a*p.x+b*p.y+c)/Math.pow(a*a+b*b,0.5)\n            return d<r;\n        }\n        let meet_cnt = 0;\n        let dir = [1,1];\n        for(let i=0;i<4;i++){\n            let p1 = new Pos(sp.x+w*dir[0],sp.y+h*dir[1]);\n            let p2 = new Pos(sp.x+w*dir[0],sp.y-h*dir[1]);\n            if(pos_x_line_meet(p1,p2,enemy.pos))meet_cnt++;\n            if(line_circle_meet(p1,p2,enemy.pos,enemy.r)){\n                meet_cnt=1;\n                break;\n            }\n            let tmp = dir[0];\n            dir[0]=-dir[1];\n            dir[1]=tmp;\n        }\n        return meet_cnt%2 === 1\n    }\n\n    trytoeat(item){\n        const p = this.pos;\n        const i = item.pos;\n        return Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)<=Math.pow(this.r+item.r,2)\n    }\n\n    move(dx,dy){\n        this.pos.move(dx,dy)\n        this.bound()\n    }\n\n    bound(){\n        if(this.pos.x>=mapSize)this.pos.x=mapSize;\n        if(this.pos.y>=mapSize)this.pos.y=mapSize;\n        if(this.pos.x<=-mapSize)this.pos.x=-mapSize;\n        if(this.pos.y<=-mapSize)this.pos.y=-mapSize;\n    }\n\n    sw_rot(angle,clockwise=true){\n        if(clockwise)angle*=-1;\n        this.sw_angle+=angle;\n        this.sw_angle%=(2*Math.PI);\n    }\n\n    sw_pos(){\n        return this.pos.add(this.sw_r,0).rot(this.pos,this.sw_angle);\n    }\n\n    hp_change(dhp){\n        this.hp+=dhp;\n    }\n\n    dead(){\n        return (this.hp <= 0)\n    }\n}\n\n\n\nclass Item{\n    constructor(pos){\n        this.pos = pos; \n        this.color = getRandomColor();\n        this.xp = Math.floor(Math.random() * 16)+1;\n        this.r = Math.floor(Math.random() * 3)+3;\n    }\n\n    static randomItem(){\n        return new Item(Pos.randomPos())\n    }\n\n    eaten(player){\n        player.xp+=this.xp;\n        this.constructor(Pos.randomPos())\n    }\n}\n\nexport {Player, Pos, Item}","/Users/hong-eungi/git/tourne-sabre/frontend/src/canvas.js",["41","42"],"import React, { useRef, useEffect } from 'react'\nimport draw from './mapdraw.js'\n\nconst Canvas = props => {\n\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n  \n  const canvas = canvasRef.current\n  const ctx = canvas.getContext('2d')\n  let frameCount = 0\n  let animationFrameId\n  \n  const render = () => {\n    frameCount++;\n    props.player.sw_angle+=props.player.sw_speed;\n    draw(ctx, props.player)\n    animationFrameId = window.requestAnimationFrame(render)\n  }\n  render()\n  \n    return () => {\n      window.cancelAnimationFrame(animationFrameId)\n    }\n  }, [draw])\n  \n  return <canvas ref={canvasRef} {...props}/>\n}\n\nexport default Canvas","/Users/hong-eungi/git/tourne-sabre/frontend/src/map.js",[],"/Users/hong-eungi/git/tourne-sabre/frontend/src/frameUpdater.js",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":32,"column":6,"nodeType":"49","endLine":32,"endColumn":8,"suggestions":"50"},{"ruleId":"51","severity":1,"message":"52","line":8,"column":13,"nodeType":"53","messageId":"54","endLine":8,"endColumn":15},{"ruleId":"55","severity":1,"message":"56","line":12,"column":7,"nodeType":"57","messageId":"58","endLine":12,"endColumn":17},{"ruleId":"47","severity":1,"message":"59","line":26,"column":6,"nodeType":"49","endLine":26,"endColumn":12,"suggestions":"60"},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'handleKeyDown' and 'handleKeyUp'. Either include them or remove the dependency array.","ArrayExpression",["63"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'frameCount' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'props.player'. Either include it or remove the dependency array. Outer scope values like 'draw' aren't valid dependencies because mutating them doesn't re-render the component.",["64"],"no-global-assign","no-unsafe-negation",{"desc":"65","fix":"66"},{"desc":"67","fix":"68"},"Update the dependencies array to be: [handleKeyDown, handleKeyUp]",{"range":"69","text":"70"},"Update the dependencies array to be: [props.player]",{"range":"71","text":"72"},[830,832],"[handleKeyDown, handleKeyUp]",[567,573],"[props.player]"]